- StagesAvailable:
  - Original
  - Processed
  TemplateBody: !!omap
  - Resources: !!omap
    - HandTermUserPoolFEFBF83D: !!omap
      - Type: AWS::Cognito::UserPool
      - Properties: !!omap
        - AccountRecoverySetting: !!omap
          - RecoveryMechanisms:
            - !!omap
              - Name: verified_phone_number
              - Priority: 1
            - !!omap
              - Name: verified_email
              - Priority: 2
        - AdminCreateUserConfig: !!omap
          - AllowAdminCreateUserOnly: false
        - AutoVerifiedAttributes:
          - email
        - EmailVerificationMessage: Hello {username}, Thanks for signing up to our
            app! Your verification code is {####}
        - EmailVerificationSubject: Verify your email for our app!
        - Policies: !!omap
          - PasswordPolicy: !!omap
            - MinimumLength: 8
            - RequireLowercase: true
            - RequireNumbers: true
            - RequireSymbols: true
            - RequireUppercase: true
        - Schema:
          - !!omap
            - AttributeDataType: String
            - Mutable: true
            - Name: github_token
          - !!omap
            - AttributeDataType: String
            - Mutable: true
            - Name: github_id
        - SmsVerificationMessage: The verification code to your new account is {####}
        - UserPoolName: HandTermUserPool
        - UsernameAttributes:
          - email
        - VerificationMessageTemplate: !!omap
          - DefaultEmailOption: CONFIRM_WITH_CODE
          - EmailMessage: Hello {username}, Thanks for signing up to our app! Your
              verification code is {####}
          - EmailSubject: Verify your email for our app!
          - SmsMessage: The verification code to your new account is {####}
      - UpdateReplacePolicy: Retain
      - DeletionPolicy: Retain
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermUserPool/Resource
    - GitHubIdentityProvider: !!omap
      - Type: AWS::Cognito::UserPoolIdentityProvider
      - Properties: !!omap
        - AttributeMapping: !!omap
          - email: email
          - preferredUsername: login
          - name: name
          - picture: avatar_url
          - address: location
          - birthdate: created_at
          - zoneinfo: tz_offset
          - locale: locale
        - ProviderDetails: !!omap
          - client_id: Iv23li7gy43wuuUgck9v
          - client_secret: 46c2cd6b690043acca71f113f6383e9cb56b82fc
          - attributes_request_method: GET
          - oidc_issuer: https://github.com
          - authorize_scopes: openid user:email
          - authorize_url: https://github.com/login/oauth/authorize
          - token_url: https://github.com/login/oauth/access_token
          - attributes_url: https://api.github.com/user
          - jwks_uri: https://token.actions.githubusercontent.com/.well-known/jwks
        - ProviderName: GitHub
        - ProviderType: OIDC
        - UserPoolId: !!omap
          - Ref: HandTermUserPoolFEFBF83D
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/GitHubIdentityProvider
    - HandTermApi1BECDD2E: !!omap
      - Type: AWS::ApiGatewayV2::Api
      - Properties: !!omap
        - CorsConfiguration: !!omap
          - AllowCredentials: true
          - AllowHeaders:
            - Content-Type
            - Authorization
          - AllowMethods:
            - GET
            - POST
            - OPTIONS
          - AllowOrigins:
            - http://localhost:5173
            - https://handterm.com
        - Description: This service serves authentication requests.
        - Name: HandTermService
        - ProtocolType: HTTP
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/Resource
    - HandTermApiDefaultStage974B5E56: !!omap
      - Type: AWS::ApiGatewayV2::Stage
      - Properties: !!omap
        - AccessLogSettings: !!omap
          - DestinationArn: !!omap
            - Fn::GetAtt:
              - ApiGatewayAccessLogsFB871B4C
              - Arn
          - Format: '{"requestId":"$context.requestId","ip":"$context.identity.sourceIp","requestTime":"$context.requestTime","httpMethod":"$context.httpMethod","routeKey":"$context.routeKey","status":"$context.status","protocol":"$context.protocol","responseLength":"$context.responseLength"}'
        - ApiId: !!omap
          - Ref: HandTermApi1BECDD2E
        - AutoDeploy: true
        - StageName: $default
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/DefaultStage/Resource
    - HandTermApiPOSTsignUpSignUpFunctionintegration69722843: !!omap
      - Type: AWS::ApiGatewayV2::Integration
      - Properties: !!omap
        - ApiId: !!omap
          - Ref: HandTermApi1BECDD2E
        - IntegrationType: AWS_PROXY
        - IntegrationUri: !!omap
          - Fn::GetAtt:
            - SignUpFunctionCFE784C5
            - Arn
        - PayloadFormatVersion: '2.0'
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/POST--signUp/SignUpFunction-integration/Resource
    - HandTermApiPOSTsignUpSignUpFunctionintegrationPermission9DE2A630: !!omap
      - Type: AWS::Lambda::Permission
      - Properties: !!omap
        - Action: lambda:InvokeFunction
        - FunctionName: !!omap
          - Fn::GetAtt:
            - SignUpFunctionCFE784C5
            - Arn
        - Principal: apigateway.amazonaws.com
        - SourceArn: !!omap
          - Fn::Join:
            - ''
            - - 'arn:'
              - !!omap
                - Ref: AWS::Partition
              - ':execute-api:'
              - !!omap
                - Ref: AWS::Region
              - ':'
              - !!omap
                - Ref: AWS::AccountId
              - ':'
              - !!omap
                - Ref: HandTermApi1BECDD2E
              - /*/*/signUp
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/POST--signUp/SignUpFunction-integration-Permission
    - HandTermApiPOSTsignUpE96EB1AF: !!omap
      - Type: AWS::ApiGatewayV2::Route
      - Properties: !!omap
        - ApiId: !!omap
          - Ref: HandTermApi1BECDD2E
        - AuthorizationType: NONE
        - RouteKey: POST /signUp
        - Target: !!omap
          - Fn::Join:
            - ''
            - - integrations/
              - !!omap
                - Ref: HandTermApiPOSTsignUpSignUpFunctionintegration69722843
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/POST--signUp/Resource
    - HandTermApiPOSTsignInSignInFunctionintegration6C4B2106: !!omap
      - Type: AWS::ApiGatewayV2::Integration
      - Properties: !!omap
        - ApiId: !!omap
          - Ref: HandTermApi1BECDD2E
        - IntegrationType: AWS_PROXY
        - IntegrationUri: !!omap
          - Fn::GetAtt:
            - SignInFunctionC4D5EA9B
            - Arn
        - PayloadFormatVersion: '2.0'
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/POST--signIn/SignInFunction-integration/Resource
    - HandTermApiPOSTsignInSignInFunctionintegrationPermission0B825EE5: !!omap
      - Type: AWS::Lambda::Permission
      - Properties: !!omap
        - Action: lambda:InvokeFunction
        - FunctionName: !!omap
          - Fn::GetAtt:
            - SignInFunctionC4D5EA9B
            - Arn
        - Principal: apigateway.amazonaws.com
        - SourceArn: !!omap
          - Fn::Join:
            - ''
            - - 'arn:'
              - !!omap
                - Ref: AWS::Partition
              - ':execute-api:'
              - !!omap
                - Ref: AWS::Region
              - ':'
              - !!omap
                - Ref: AWS::AccountId
              - ':'
              - !!omap
                - Ref: HandTermApi1BECDD2E
              - /*/*/signIn
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/POST--signIn/SignInFunction-integration-Permission
    - HandTermApiPOSTsignIn44E9BE4E: !!omap
      - Type: AWS::ApiGatewayV2::Route
      - Properties: !!omap
        - ApiId: !!omap
          - Ref: HandTermApi1BECDD2E
        - AuthorizationType: NONE
        - RouteKey: POST /signIn
        - Target: !!omap
          - Fn::Join:
            - ''
            - - integrations/
              - !!omap
                - Ref: HandTermApiPOSTsignInSignInFunctionintegration6C4B2106
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/POST--signIn/Resource
    - HandTermApiPOSTrefreshTokenRefreshTokenFunctionintegration6B63FFAE: !!omap
      - Type: AWS::ApiGatewayV2::Integration
      - Properties: !!omap
        - ApiId: !!omap
          - Ref: HandTermApi1BECDD2E
        - IntegrationType: AWS_PROXY
        - IntegrationUri: !!omap
          - Fn::GetAtt:
            - RefreshTokenFunction37E34807
            - Arn
        - PayloadFormatVersion: '2.0'
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/POST--refreshToken/RefreshTokenFunction-integration/Resource
    - HandTermApiPOSTrefreshTokenRefreshTokenFunctionintegrationPermission5696DDB3: !!omap
      - Type: AWS::Lambda::Permission
      - Properties: !!omap
        - Action: lambda:InvokeFunction
        - FunctionName: !!omap
          - Fn::GetAtt:
            - RefreshTokenFunction37E34807
            - Arn
        - Principal: apigateway.amazonaws.com
        - SourceArn: !!omap
          - Fn::Join:
            - ''
            - - 'arn:'
              - !!omap
                - Ref: AWS::Partition
              - ':execute-api:'
              - !!omap
                - Ref: AWS::Region
              - ':'
              - !!omap
                - Ref: AWS::AccountId
              - ':'
              - !!omap
                - Ref: HandTermApi1BECDD2E
              - /*/*/refreshToken
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/POST--refreshToken/RefreshTokenFunction-integration-Permission
    - HandTermApiPOSTrefreshToken17EFB24F: !!omap
      - Type: AWS::ApiGatewayV2::Route
      - Properties: !!omap
        - ApiId: !!omap
          - Ref: HandTermApi1BECDD2E
        - AuthorizationType: NONE
        - RouteKey: POST /refreshToken
        - Target: !!omap
          - Fn::Join:
            - ''
            - - integrations/
              - !!omap
                - Ref: HandTermApiPOSTrefreshTokenRefreshTokenFunctionintegration6B63FFAE
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/POST--refreshToken/Resource
    - HandTermApiPOSTchangePasswordChangePasswordFunctionintegrationE5561A78: !!omap
      - Type: AWS::ApiGatewayV2::Integration
      - Properties: !!omap
        - ApiId: !!omap
          - Ref: HandTermApi1BECDD2E
        - IntegrationType: AWS_PROXY
        - IntegrationUri: !!omap
          - Fn::GetAtt:
            - ChangePasswordFunction51DA0296
            - Arn
        - PayloadFormatVersion: '2.0'
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/POST--changePassword/ChangePasswordFunction-integration/Resource
    - HandTermApiPOSTchangePasswordChangePasswordFunctionintegrationPermissionE080B982: !!omap
      - Type: AWS::Lambda::Permission
      - Properties: !!omap
        - Action: lambda:InvokeFunction
        - FunctionName: !!omap
          - Fn::GetAtt:
            - ChangePasswordFunction51DA0296
            - Arn
        - Principal: apigateway.amazonaws.com
        - SourceArn: !!omap
          - Fn::Join:
            - ''
            - - 'arn:'
              - !!omap
                - Ref: AWS::Partition
              - ':execute-api:'
              - !!omap
                - Ref: AWS::Region
              - ':'
              - !!omap
                - Ref: AWS::AccountId
              - ':'
              - !!omap
                - Ref: HandTermApi1BECDD2E
              - /*/*/changePassword
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/POST--changePassword/ChangePasswordFunction-integration-Permission
    - HandTermApiPOSTchangePasswordEB282342: !!omap
      - Type: AWS::ApiGatewayV2::Route
      - Properties: !!omap
        - ApiId: !!omap
          - Ref: HandTermApi1BECDD2E
        - AuthorizationType: CUSTOM
        - AuthorizerId: !!omap
          - Ref: HandTermApiLambdaAuthorizer3020BBE0
        - RouteKey: POST /changePassword
        - Target: !!omap
          - Fn::Join:
            - ''
            - - integrations/
              - !!omap
                - Ref: HandTermApiPOSTchangePasswordChangePasswordFunctionintegrationE5561A78
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/POST--changePassword/Resource
    - HandTermApiLambdaAuthorizer3020BBE0: !!omap
      - Type: AWS::ApiGatewayV2::Authorizer
      - Properties: !!omap
        - ApiId: !!omap
          - Ref: HandTermApi1BECDD2E
        - AuthorizerPayloadFormatVersion: '2.0'
        - AuthorizerResultTtlInSeconds: 0
        - AuthorizerType: REQUEST
        - AuthorizerUri: !!omap
          - Fn::Join:
            - ''
            - - 'arn:'
              - !!omap
                - Ref: AWS::Partition
              - ':apigateway:'
              - !!omap
                - Ref: AWS::Region
              - :lambda:path/2015-03-31/functions/
              - !!omap
                - Fn::GetAtt:
                  - AuthorizerFunctionB4DBAA43
                  - Arn
              - /invocations
        - EnableSimpleResponses: true
        - IdentitySource:
          - $request.header.Authorization
        - Name: LambdaAuthorizer
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/LambdaAuthorizer/Resource
    - HandTermApiHandTermCdkStackHandTermApiLambdaAuthorizer1EB646D6Permission29468AC2: !!omap
      - Type: AWS::Lambda::Permission
      - Properties: !!omap
        - Action: lambda:InvokeFunction
        - FunctionName: !!omap
          - Fn::GetAtt:
            - AuthorizerFunctionB4DBAA43
            - Arn
        - Principal: apigateway.amazonaws.com
        - SourceArn: !!omap
          - Fn::Join:
            - ''
            - - 'arn:'
              - !!omap
                - Ref: AWS::Partition
              - ':execute-api:'
              - !!omap
                - Ref: AWS::Region
              - ':'
              - !!omap
                - Ref: AWS::AccountId
              - ':'
              - !!omap
                - Ref: HandTermApi1BECDD2E
              - /authorizers/
              - !!omap
                - Ref: HandTermApiLambdaAuthorizer3020BBE0
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/HandTermCdkStackHandTermApiLambdaAuthorizer1EB646D6-Permission
    - HandTermApiGETgetUserGetUserFunctionintegration32BABAF2: !!omap
      - Type: AWS::ApiGatewayV2::Integration
      - Properties: !!omap
        - ApiId: !!omap
          - Ref: HandTermApi1BECDD2E
        - IntegrationType: AWS_PROXY
        - IntegrationUri: !!omap
          - Fn::GetAtt:
            - GetUserFunctionD3D353B4
            - Arn
        - PayloadFormatVersion: '2.0'
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/GET--getUser/GetUserFunction-integration/Resource
    - HandTermApiGETgetUserGetUserFunctionintegrationPermission29069DF5: !!omap
      - Type: AWS::Lambda::Permission
      - Properties: !!omap
        - Action: lambda:InvokeFunction
        - FunctionName: !!omap
          - Fn::GetAtt:
            - GetUserFunctionD3D353B4
            - Arn
        - Principal: apigateway.amazonaws.com
        - SourceArn: !!omap
          - Fn::Join:
            - ''
            - - 'arn:'
              - !!omap
                - Ref: AWS::Partition
              - ':execute-api:'
              - !!omap
                - Ref: AWS::Region
              - ':'
              - !!omap
                - Ref: AWS::AccountId
              - ':'
              - !!omap
                - Ref: HandTermApi1BECDD2E
              - /*/*/getUser
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/GET--getUser/GetUserFunction-integration-Permission
    - HandTermApiGETgetUserB5789FFE: !!omap
      - Type: AWS::ApiGatewayV2::Route
      - Properties: !!omap
        - ApiId: !!omap
          - Ref: HandTermApi1BECDD2E
        - AuthorizationType: CUSTOM
        - AuthorizerId: !!omap
          - Ref: HandTermApiLambdaAuthorizer3020BBE0
        - RouteKey: GET /getUser
        - Target: !!omap
          - Fn::Join:
            - ''
            - - integrations/
              - !!omap
                - Ref: HandTermApiGETgetUserGetUserFunctionintegration32BABAF2
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/GET--getUser/Resource
    - HandTermApiPOSTsetUserSetUserFunctionintegration89C46491: !!omap
      - Type: AWS::ApiGatewayV2::Integration
      - Properties: !!omap
        - ApiId: !!omap
          - Ref: HandTermApi1BECDD2E
        - IntegrationType: AWS_PROXY
        - IntegrationUri: !!omap
          - Fn::GetAtt:
            - SetUserFunction49B5984A
            - Arn
        - PayloadFormatVersion: '2.0'
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/POST--setUser/SetUserFunction-integration/Resource
    - HandTermApiPOSTsetUserSetUserFunctionintegrationPermissionCE4B1A13: !!omap
      - Type: AWS::Lambda::Permission
      - Properties: !!omap
        - Action: lambda:InvokeFunction
        - FunctionName: !!omap
          - Fn::GetAtt:
            - SetUserFunction49B5984A
            - Arn
        - Principal: apigateway.amazonaws.com
        - SourceArn: !!omap
          - Fn::Join:
            - ''
            - - 'arn:'
              - !!omap
                - Ref: AWS::Partition
              - ':execute-api:'
              - !!omap
                - Ref: AWS::Region
              - ':'
              - !!omap
                - Ref: AWS::AccountId
              - ':'
              - !!omap
                - Ref: HandTermApi1BECDD2E
              - /*/*/setUser
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/POST--setUser/SetUserFunction-integration-Permission
    - HandTermApiPOSTsetUserAC6D6D10: !!omap
      - Type: AWS::ApiGatewayV2::Route
      - Properties: !!omap
        - ApiId: !!omap
          - Ref: HandTermApi1BECDD2E
        - AuthorizationType: CUSTOM
        - AuthorizerId: !!omap
          - Ref: HandTermApiLambdaAuthorizer3020BBE0
        - RouteKey: POST /setUser
        - Target: !!omap
          - Fn::Join:
            - ''
            - - integrations/
              - !!omap
                - Ref: HandTermApiPOSTsetUserSetUserFunctionintegration89C46491
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/POST--setUser/Resource
    - HandTermApiPOSTsaveLogSaveLogFunctionintegrationEF7781FA: !!omap
      - Type: AWS::ApiGatewayV2::Integration
      - Properties: !!omap
        - ApiId: !!omap
          - Ref: HandTermApi1BECDD2E
        - IntegrationType: AWS_PROXY
        - IntegrationUri: !!omap
          - Fn::GetAtt:
            - SaveLogFunctionFDAB0521
            - Arn
        - PayloadFormatVersion: '2.0'
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/POST--saveLog/SaveLogFunction-integration/Resource
    - HandTermApiPOSTsaveLogSaveLogFunctionintegrationPermission3923DDC5: !!omap
      - Type: AWS::Lambda::Permission
      - Properties: !!omap
        - Action: lambda:InvokeFunction
        - FunctionName: !!omap
          - Fn::GetAtt:
            - SaveLogFunctionFDAB0521
            - Arn
        - Principal: apigateway.amazonaws.com
        - SourceArn: !!omap
          - Fn::Join:
            - ''
            - - 'arn:'
              - !!omap
                - Ref: AWS::Partition
              - ':execute-api:'
              - !!omap
                - Ref: AWS::Region
              - ':'
              - !!omap
                - Ref: AWS::AccountId
              - ':'
              - !!omap
                - Ref: HandTermApi1BECDD2E
              - /*/*/saveLog
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/POST--saveLog/SaveLogFunction-integration-Permission
    - HandTermApiPOSTsaveLog090348F3: !!omap
      - Type: AWS::ApiGatewayV2::Route
      - Properties: !!omap
        - ApiId: !!omap
          - Ref: HandTermApi1BECDD2E
        - AuthorizationType: CUSTOM
        - AuthorizerId: !!omap
          - Ref: HandTermApiLambdaAuthorizer3020BBE0
        - RouteKey: POST /saveLog
        - Target: !!omap
          - Fn::Join:
            - ''
            - - integrations/
              - !!omap
                - Ref: HandTermApiPOSTsaveLogSaveLogFunctionintegrationEF7781FA
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/POST--saveLog/Resource
    - HandTermApiPOSTgetLogGetLogFunctionintegrationE40E248F: !!omap
      - Type: AWS::ApiGatewayV2::Integration
      - Properties: !!omap
        - ApiId: !!omap
          - Ref: HandTermApi1BECDD2E
        - IntegrationType: AWS_PROXY
        - IntegrationUri: !!omap
          - Fn::GetAtt:
            - GetLogFunction03FFABB2
            - Arn
        - PayloadFormatVersion: '2.0'
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/POST--getLog/GetLogFunction-integration/Resource
    - HandTermApiPOSTgetLogGetLogFunctionintegrationPermissionCF046A0F: !!omap
      - Type: AWS::Lambda::Permission
      - Properties: !!omap
        - Action: lambda:InvokeFunction
        - FunctionName: !!omap
          - Fn::GetAtt:
            - GetLogFunction03FFABB2
            - Arn
        - Principal: apigateway.amazonaws.com
        - SourceArn: !!omap
          - Fn::Join:
            - ''
            - - 'arn:'
              - !!omap
                - Ref: AWS::Partition
              - ':execute-api:'
              - !!omap
                - Ref: AWS::Region
              - ':'
              - !!omap
                - Ref: AWS::AccountId
              - ':'
              - !!omap
                - Ref: HandTermApi1BECDD2E
              - /*/*/getLog
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/POST--getLog/GetLogFunction-integration-Permission
    - HandTermApiPOSTgetLog8541030C: !!omap
      - Type: AWS::ApiGatewayV2::Route
      - Properties: !!omap
        - ApiId: !!omap
          - Ref: HandTermApi1BECDD2E
        - AuthorizationType: CUSTOM
        - AuthorizerId: !!omap
          - Ref: HandTermApiLambdaAuthorizer3020BBE0
        - RouteKey: POST /getLog
        - Target: !!omap
          - Fn::Join:
            - ''
            - - integrations/
              - !!omap
                - Ref: HandTermApiPOSTgetLogGetLogFunctionintegrationE40E248F
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/POST--getLog/Resource
    - HandTermApiGETgetLogGetLogFunctionintegrationPermission713BA6C5: !!omap
      - Type: AWS::Lambda::Permission
      - Properties: !!omap
        - Action: lambda:InvokeFunction
        - FunctionName: !!omap
          - Fn::GetAtt:
            - GetLogFunction03FFABB2
            - Arn
        - Principal: apigateway.amazonaws.com
        - SourceArn: !!omap
          - Fn::Join:
            - ''
            - - 'arn:'
              - !!omap
                - Ref: AWS::Partition
              - ':execute-api:'
              - !!omap
                - Ref: AWS::Region
              - ':'
              - !!omap
                - Ref: AWS::AccountId
              - ':'
              - !!omap
                - Ref: HandTermApi1BECDD2E
              - /*/*/getLog
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/GET--getLog/GetLogFunction-integration-Permission
    - HandTermApiGETgetLog306C9144: !!omap
      - Type: AWS::ApiGatewayV2::Route
      - Properties: !!omap
        - ApiId: !!omap
          - Ref: HandTermApi1BECDD2E
        - AuthorizationType: CUSTOM
        - AuthorizerId: !!omap
          - Ref: HandTermApiLambdaAuthorizer3020BBE0
        - RouteKey: GET /getLog
        - Target: !!omap
          - Fn::Join:
            - ''
            - - integrations/
              - !!omap
                - Ref: HandTermApiPOSTgetLogGetLogFunctionintegrationE40E248F
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/GET--getLog/Resource
    - HandTermApiPOSTlistLogListLogFunctionintegration50773924: !!omap
      - Type: AWS::ApiGatewayV2::Integration
      - Properties: !!omap
        - ApiId: !!omap
          - Ref: HandTermApi1BECDD2E
        - IntegrationType: AWS_PROXY
        - IntegrationUri: !!omap
          - Fn::GetAtt:
            - ListLogFunction5540628A
            - Arn
        - PayloadFormatVersion: '2.0'
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/POST--listLog/ListLogFunction-integration/Resource
    - HandTermApiPOSTlistLogListLogFunctionintegrationPermission54951D21: !!omap
      - Type: AWS::Lambda::Permission
      - Properties: !!omap
        - Action: lambda:InvokeFunction
        - FunctionName: !!omap
          - Fn::GetAtt:
            - ListLogFunction5540628A
            - Arn
        - Principal: apigateway.amazonaws.com
        - SourceArn: !!omap
          - Fn::Join:
            - ''
            - - 'arn:'
              - !!omap
                - Ref: AWS::Partition
              - ':execute-api:'
              - !!omap
                - Ref: AWS::Region
              - ':'
              - !!omap
                - Ref: AWS::AccountId
              - ':'
              - !!omap
                - Ref: HandTermApi1BECDD2E
              - /*/*/listLog
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/POST--listLog/ListLogFunction-integration-Permission
    - HandTermApiPOSTlistLogE17D9EBB: !!omap
      - Type: AWS::ApiGatewayV2::Route
      - Properties: !!omap
        - ApiId: !!omap
          - Ref: HandTermApi1BECDD2E
        - AuthorizationType: CUSTOM
        - AuthorizerId: !!omap
          - Ref: HandTermApiLambdaAuthorizer3020BBE0
        - RouteKey: POST /listLog
        - Target: !!omap
          - Fn::Join:
            - ''
            - - integrations/
              - !!omap
                - Ref: HandTermApiPOSTlistLogListLogFunctionintegration50773924
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/POST--listLog/Resource
    - HandTermApiGETlistLogListLogFunctionintegrationPermission92F5C2FD: !!omap
      - Type: AWS::Lambda::Permission
      - Properties: !!omap
        - Action: lambda:InvokeFunction
        - FunctionName: !!omap
          - Fn::GetAtt:
            - ListLogFunction5540628A
            - Arn
        - Principal: apigateway.amazonaws.com
        - SourceArn: !!omap
          - Fn::Join:
            - ''
            - - 'arn:'
              - !!omap
                - Ref: AWS::Partition
              - ':execute-api:'
              - !!omap
                - Ref: AWS::Region
              - ':'
              - !!omap
                - Ref: AWS::AccountId
              - ':'
              - !!omap
                - Ref: HandTermApi1BECDD2E
              - /*/*/listLog
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/GET--listLog/ListLogFunction-integration-Permission
    - HandTermApiGETlistLogD8261A44: !!omap
      - Type: AWS::ApiGatewayV2::Route
      - Properties: !!omap
        - ApiId: !!omap
          - Ref: HandTermApi1BECDD2E
        - AuthorizationType: CUSTOM
        - AuthorizerId: !!omap
          - Ref: HandTermApiLambdaAuthorizer3020BBE0
        - RouteKey: GET /listLog
        - Target: !!omap
          - Fn::Join:
            - ''
            - - integrations/
              - !!omap
                - Ref: HandTermApiPOSTlistLogListLogFunctionintegration50773924
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/GET--listLog/Resource
    - HandTermApiGETgetFileGetFileFunctionintegrationB5BED578: !!omap
      - Type: AWS::ApiGatewayV2::Integration
      - Properties: !!omap
        - ApiId: !!omap
          - Ref: HandTermApi1BECDD2E
        - IntegrationType: AWS_PROXY
        - IntegrationUri: !!omap
          - Fn::GetAtt:
            - GetFileFunction303A207D
            - Arn
        - PayloadFormatVersion: '2.0'
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/GET--getFile/GetFileFunction-integration/Resource
    - HandTermApiGETgetFileGetFileFunctionintegrationPermissionD673CE2D: !!omap
      - Type: AWS::Lambda::Permission
      - Properties: !!omap
        - Action: lambda:InvokeFunction
        - FunctionName: !!omap
          - Fn::GetAtt:
            - GetFileFunction303A207D
            - Arn
        - Principal: apigateway.amazonaws.com
        - SourceArn: !!omap
          - Fn::Join:
            - ''
            - - 'arn:'
              - !!omap
                - Ref: AWS::Partition
              - ':execute-api:'
              - !!omap
                - Ref: AWS::Region
              - ':'
              - !!omap
                - Ref: AWS::AccountId
              - ':'
              - !!omap
                - Ref: HandTermApi1BECDD2E
              - /*/*/getFile
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/GET--getFile/GetFileFunction-integration-Permission
    - HandTermApiGETgetFile444A3562: !!omap
      - Type: AWS::ApiGatewayV2::Route
      - Properties: !!omap
        - ApiId: !!omap
          - Ref: HandTermApi1BECDD2E
        - AuthorizationType: CUSTOM
        - AuthorizerId: !!omap
          - Ref: HandTermApiLambdaAuthorizer3020BBE0
        - RouteKey: GET /getFile
        - Target: !!omap
          - Fn::Join:
            - ''
            - - integrations/
              - !!omap
                - Ref: HandTermApiGETgetFileGetFileFunctionintegrationB5BED578
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/GET--getFile/Resource
    - HandTermApiPOSTputFilePutFileFunctionintegration5FE7BE8D: !!omap
      - Type: AWS::ApiGatewayV2::Integration
      - Properties: !!omap
        - ApiId: !!omap
          - Ref: HandTermApi1BECDD2E
        - IntegrationType: AWS_PROXY
        - IntegrationUri: !!omap
          - Fn::GetAtt:
            - PutFileFunction814BBEAD
            - Arn
        - PayloadFormatVersion: '2.0'
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/POST--putFile/PutFileFunction-integration/Resource
    - HandTermApiPOSTputFilePutFileFunctionintegrationPermission2A52A87A: !!omap
      - Type: AWS::Lambda::Permission
      - Properties: !!omap
        - Action: lambda:InvokeFunction
        - FunctionName: !!omap
          - Fn::GetAtt:
            - PutFileFunction814BBEAD
            - Arn
        - Principal: apigateway.amazonaws.com
        - SourceArn: !!omap
          - Fn::Join:
            - ''
            - - 'arn:'
              - !!omap
                - Ref: AWS::Partition
              - ':execute-api:'
              - !!omap
                - Ref: AWS::Region
              - ':'
              - !!omap
                - Ref: AWS::AccountId
              - ':'
              - !!omap
                - Ref: HandTermApi1BECDD2E
              - /*/*/putFile
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/POST--putFile/PutFileFunction-integration-Permission
    - HandTermApiPOSTputFileBABA05DE: !!omap
      - Type: AWS::ApiGatewayV2::Route
      - Properties: !!omap
        - ApiId: !!omap
          - Ref: HandTermApi1BECDD2E
        - AuthorizationType: CUSTOM
        - AuthorizerId: !!omap
          - Ref: HandTermApiLambdaAuthorizer3020BBE0
        - RouteKey: POST /putFile
        - Target: !!omap
          - Fn::Join:
            - ''
            - - integrations/
              - !!omap
                - Ref: HandTermApiPOSTputFilePutFileFunctionintegration5FE7BE8D
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/POST--putFile/Resource
    - HandTermApiGETlistrecentreposListRecentReposFunctionintegration1250D98E: !!omap
      - Type: AWS::ApiGatewayV2::Integration
      - Properties: !!omap
        - ApiId: !!omap
          - Ref: HandTermApi1BECDD2E
        - IntegrationType: AWS_PROXY
        - IntegrationUri: !!omap
          - Fn::GetAtt:
            - ListRecentReposFunctionB1A47D20
            - Arn
        - PayloadFormatVersion: '2.0'
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/GET--list-recent-repos/ListRecentReposFunction-integration/Resource
    - HandTermApiGETlistrecentreposListRecentReposFunctionintegrationPermissionF75E0DEE: !!omap
      - Type: AWS::Lambda::Permission
      - Properties: !!omap
        - Action: lambda:InvokeFunction
        - FunctionName: !!omap
          - Fn::GetAtt:
            - ListRecentReposFunctionB1A47D20
            - Arn
        - Principal: apigateway.amazonaws.com
        - SourceArn: !!omap
          - Fn::Join:
            - ''
            - - 'arn:'
              - !!omap
                - Ref: AWS::Partition
              - ':execute-api:'
              - !!omap
                - Ref: AWS::Region
              - ':'
              - !!omap
                - Ref: AWS::AccountId
              - ':'
              - !!omap
                - Ref: HandTermApi1BECDD2E
              - /*/*/list-recent-repos
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/GET--list-recent-repos/ListRecentReposFunction-integration-Permission
    - HandTermApiGETlistrecentrepos5966C80C: !!omap
      - Type: AWS::ApiGatewayV2::Route
      - Properties: !!omap
        - ApiId: !!omap
          - Ref: HandTermApi1BECDD2E
        - AuthorizationType: CUSTOM
        - AuthorizerId: !!omap
          - Ref: HandTermApiLambdaAuthorizer3020BBE0
        - RouteKey: GET /list-recent-repos
        - Target: !!omap
          - Fn::Join:
            - ''
            - - integrations/
              - !!omap
                - Ref: HandTermApiGETlistrecentreposListRecentReposFunctionintegration1250D98E
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/GET--list-recent-repos/Resource
    - HandTermApiGETsignoutSignOutFunctionintegration33D87CCE: !!omap
      - Type: AWS::ApiGatewayV2::Integration
      - Properties: !!omap
        - ApiId: !!omap
          - Ref: HandTermApi1BECDD2E
        - IntegrationType: AWS_PROXY
        - IntegrationUri: !!omap
          - Fn::GetAtt:
            - SignOutFunctionAB92EDC3
            - Arn
        - PayloadFormatVersion: '2.0'
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/GET--signout/SignOutFunction-integration/Resource
    - HandTermApiGETsignoutSignOutFunctionintegrationPermissionFEC3C048: !!omap
      - Type: AWS::Lambda::Permission
      - Properties: !!omap
        - Action: lambda:InvokeFunction
        - FunctionName: !!omap
          - Fn::GetAtt:
            - SignOutFunctionAB92EDC3
            - Arn
        - Principal: apigateway.amazonaws.com
        - SourceArn: !!omap
          - Fn::Join:
            - ''
            - - 'arn:'
              - !!omap
                - Ref: AWS::Partition
              - ':execute-api:'
              - !!omap
                - Ref: AWS::Region
              - ':'
              - !!omap
                - Ref: AWS::AccountId
              - ':'
              - !!omap
                - Ref: HandTermApi1BECDD2E
              - /*/*/signout
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/GET--signout/SignOutFunction-integration-Permission
    - HandTermApiGETsignoutBD9CDE75: !!omap
      - Type: AWS::ApiGatewayV2::Route
      - Properties: !!omap
        - ApiId: !!omap
          - Ref: HandTermApi1BECDD2E
        - AuthorizationType: NONE
        - RouteKey: GET /signout
        - Target: !!omap
          - Fn::Join:
            - ''
            - - integrations/
              - !!omap
                - Ref: HandTermApiGETsignoutSignOutFunctionintegration33D87CCE
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/GET--signout/Resource
    - HandTermApiPOSTsignoutSignOutFunctionintegrationPermissionB951F7E7: !!omap
      - Type: AWS::Lambda::Permission
      - Properties: !!omap
        - Action: lambda:InvokeFunction
        - FunctionName: !!omap
          - Fn::GetAtt:
            - SignOutFunctionAB92EDC3
            - Arn
        - Principal: apigateway.amazonaws.com
        - SourceArn: !!omap
          - Fn::Join:
            - ''
            - - 'arn:'
              - !!omap
                - Ref: AWS::Partition
              - ':execute-api:'
              - !!omap
                - Ref: AWS::Region
              - ':'
              - !!omap
                - Ref: AWS::AccountId
              - ':'
              - !!omap
                - Ref: HandTermApi1BECDD2E
              - /*/*/signout
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/POST--signout/SignOutFunction-integration-Permission
    - HandTermApiPOSTsignout9E46E73F: !!omap
      - Type: AWS::ApiGatewayV2::Route
      - Properties: !!omap
        - ApiId: !!omap
          - Ref: HandTermApi1BECDD2E
        - AuthorizationType: NONE
        - RouteKey: POST /signout
        - Target: !!omap
          - Fn::Join:
            - ''
            - - integrations/
              - !!omap
                - Ref: HandTermApiGETsignoutSignOutFunctionintegration33D87CCE
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/POST--signout/Resource
    - HandTermApiGETgithubauthGitHubAuthRedirectFunctionintegrationCFA177A1: !!omap
      - Type: AWS::ApiGatewayV2::Integration
      - Properties: !!omap
        - ApiId: !!omap
          - Ref: HandTermApi1BECDD2E
        - IntegrationType: AWS_PROXY
        - IntegrationUri: !!omap
          - Fn::GetAtt:
            - GitHubAuthRedirectFunction9618A4D7
            - Arn
        - PayloadFormatVersion: '2.0'
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/GET--github_auth/GitHubAuthRedirectFunction-integration/Resource
    - HandTermApiGETgithubauthGitHubAuthRedirectFunctionintegrationPermissionE789D21C: !!omap
      - Type: AWS::Lambda::Permission
      - Properties: !!omap
        - Action: lambda:InvokeFunction
        - FunctionName: !!omap
          - Fn::GetAtt:
            - GitHubAuthRedirectFunction9618A4D7
            - Arn
        - Principal: apigateway.amazonaws.com
        - SourceArn: !!omap
          - Fn::Join:
            - ''
            - - 'arn:'
              - !!omap
                - Ref: AWS::Partition
              - ':execute-api:'
              - !!omap
                - Ref: AWS::Region
              - ':'
              - !!omap
                - Ref: AWS::AccountId
              - ':'
              - !!omap
                - Ref: HandTermApi1BECDD2E
              - /*/*/github_auth
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/GET--github_auth/GitHubAuthRedirectFunction-integration-Permission
    - HandTermApiGETgithubauth8C7DD1FA: !!omap
      - Type: AWS::ApiGatewayV2::Route
      - Properties: !!omap
        - ApiId: !!omap
          - Ref: HandTermApi1BECDD2E
        - AuthorizationType: NONE
        - RouteKey: GET /github_auth
        - Target: !!omap
          - Fn::Join:
            - ''
            - - integrations/
              - !!omap
                - Ref: HandTermApiGETgithubauthGitHubAuthRedirectFunctionintegrationCFA177A1
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/GET--github_auth/Resource
    - HandTermApiGEToauthcallbackOAuthCallbackFunctionintegration2459D455: !!omap
      - Type: AWS::ApiGatewayV2::Integration
      - Properties: !!omap
        - ApiId: !!omap
          - Ref: HandTermApi1BECDD2E
        - IntegrationType: AWS_PROXY
        - IntegrationUri: !!omap
          - Fn::GetAtt:
            - OAuthCallbackFunction09B806B4
            - Arn
        - PayloadFormatVersion: '2.0'
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/GET--oauth_callback/OAuthCallbackFunction-integration/Resource
    - HandTermApiGEToauthcallbackOAuthCallbackFunctionintegrationPermission975884B9: !!omap
      - Type: AWS::Lambda::Permission
      - Properties: !!omap
        - Action: lambda:InvokeFunction
        - FunctionName: !!omap
          - Fn::GetAtt:
            - OAuthCallbackFunction09B806B4
            - Arn
        - Principal: apigateway.amazonaws.com
        - SourceArn: !!omap
          - Fn::Join:
            - ''
            - - 'arn:'
              - !!omap
                - Ref: AWS::Partition
              - ':execute-api:'
              - !!omap
                - Ref: AWS::Region
              - ':'
              - !!omap
                - Ref: AWS::AccountId
              - ':'
              - !!omap
                - Ref: HandTermApi1BECDD2E
              - /*/*/oauth_callback
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/GET--oauth_callback/OAuthCallbackFunction-integration-Permission
    - HandTermApiGEToauthcallbackCC26BF5E: !!omap
      - Type: AWS::ApiGatewayV2::Route
      - Properties: !!omap
        - ApiId: !!omap
          - Ref: HandTermApi1BECDD2E
        - AuthorizationType: NONE
        - RouteKey: GET /oauth_callback
        - Target: !!omap
          - Fn::Join:
            - ''
            - - integrations/
              - !!omap
                - Ref: HandTermApiGEToauthcallbackOAuthCallbackFunctionintegration2459D455
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/GET--oauth_callback/Resource
    - HandTermApiPOSToauthcallbackOAuthCallbackFunctionintegrationPermissionEE15769A: !!omap
      - Type: AWS::Lambda::Permission
      - Properties: !!omap
        - Action: lambda:InvokeFunction
        - FunctionName: !!omap
          - Fn::GetAtt:
            - OAuthCallbackFunction09B806B4
            - Arn
        - Principal: apigateway.amazonaws.com
        - SourceArn: !!omap
          - Fn::Join:
            - ''
            - - 'arn:'
              - !!omap
                - Ref: AWS::Partition
              - ':execute-api:'
              - !!omap
                - Ref: AWS::Region
              - ':'
              - !!omap
                - Ref: AWS::AccountId
              - ':'
              - !!omap
                - Ref: HandTermApi1BECDD2E
              - /*/*/oauth_callback
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/POST--oauth_callback/OAuthCallbackFunction-integration-Permission
    - HandTermApiPOSToauthcallback4C451B67: !!omap
      - Type: AWS::ApiGatewayV2::Route
      - Properties: !!omap
        - ApiId: !!omap
          - Ref: HandTermApi1BECDD2E
        - AuthorizationType: NONE
        - RouteKey: POST /oauth_callback
        - Target: !!omap
          - Fn::Join:
            - ''
            - - integrations/
              - !!omap
                - Ref: HandTermApiGEToauthcallbackOAuthCallbackFunctionintegration2459D455
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/HandTermApi/POST--oauth_callback/Resource
    - ApiGatewayAccessLogsFB871B4C: !!omap
      - Type: AWS::Logs::LogGroup
      - Properties: !!omap
        - RetentionInDays: 731
      - UpdateReplacePolicy: Retain
      - DeletionPolicy: Retain
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/ApiGatewayAccessLogs/Resource
    - UserPoolClient2F5918F7: !!omap
      - Type: AWS::Cognito::UserPoolClient
      - Properties: !!omap
        - AllowedOAuthFlows:
          - implicit
          - code
        - AllowedOAuthFlowsUserPoolClient: true
        - AllowedOAuthScopes:
          - profile
          - phone
          - email
          - openid
          - aws.cognito.signin.user.admin
        - CallbackURLs:
          - !!omap
            - Fn::Join:
              - ''
              - - https://
                - !!omap
                  - Ref: HandTermApi1BECDD2E
                - .execute-api.
                - !!omap
                  - Ref: AWS::Region
                - .
                - !!omap
                  - Ref: AWS::URLSuffix
                - /oauth_callback
        - ExplicitAuthFlows:
          - ALLOW_USER_PASSWORD_AUTH
          - ALLOW_USER_SRP_AUTH
          - ALLOW_REFRESH_TOKEN_AUTH
        - LogoutURLs:
          - !!omap
            - Fn::Join:
              - ''
              - - https://
                - !!omap
                  - Ref: HandTermApi1BECDD2E
                - .execute-api.
                - !!omap
                  - Ref: AWS::Region
                - .
                - !!omap
                  - Ref: AWS::URLSuffix
                - /signout
        - SupportedIdentityProviders:
          - COGNITO
          - GitHub
        - UserPoolId: !!omap
          - Ref: HandTermUserPoolFEFBF83D
      - DependsOn:
        - HandTermUserPoolFEFBF83D
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/UserPoolClient/Resource
    - LambdaExecutionRoleD5C26073: !!omap
      - Type: AWS::IAM::Role
      - Properties: !!omap
        - AssumeRolePolicyDocument: !!omap
          - Statement:
            - !!omap
              - Action: sts:AssumeRole
              - Effect: Allow
              - Principal: !!omap
                - Service: lambda.amazonaws.com
          - Version: '2012-10-17'
        - ManagedPolicyArns:
          - !!omap
            - Fn::Join:
              - ''
              - - 'arn:'
                - !!omap
                  - Ref: AWS::Partition
                - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
        - Policies:
          - !!omap
            - PolicyDocument: !!omap
              - Statement:
                - !!omap
                  - Action:
                    - cognito-idp:AdminCreateUser
                    - cognito-idp:AdminGetUser
                    - cognito-idp:AdminSetUserPassword
                    - cognito-idp:AdminUpdateUserAttributes
                    - cognito-idp:ListUsers
                  - Effect: Allow
                  - Resource: !!omap
                    - Fn::GetAtt:
                      - HandTermUserPoolFEFBF83D
                      - Arn
              - Version: '2012-10-17'
            - PolicyName: CognitoAccess
          - !!omap
            - PolicyDocument: !!omap
              - Statement:
                - !!omap
                  - Action:
                    - s3:GetObject
                    - s3:ListBucket
                    - s3:PutObject
                  - Effect: Allow
                  - Resource:
                    - !!omap
                      - Fn::Join:
                        - ''
                        - - 'arn:'
                          - !!omap
                            - Ref: AWS::Partition
                          - :s3:::handterm
                    - !!omap
                      - Fn::Join:
                        - ''
                        - - 'arn:'
                          - !!omap
                            - Ref: AWS::Partition
                          - :s3:::handterm/*
              - Version: '2012-10-17'
            - PolicyName: S3Access
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/LambdaExecutionRole/Resource
    - AuthorizerFunctionB4DBAA43: !!omap
      - Type: AWS::Lambda::Function
      - Properties: !!omap
        - Code: !!omap
          - S3Bucket: !!omap
            - Fn::Sub: cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}
          - S3Key: 95b6b6c74fa70d9ebdbd2e018f22ed10163e368a40b1c68cdad16e22fc8bb5c0.zip
        - Environment: !!omap
          - Variables: !!omap
            - COGNITO_USER_POOL_ID: !!omap
              - Ref: HandTermUserPoolFEFBF83D
        - Handler: authorizer.handler
        - Role: !!omap
          - Fn::GetAtt:
            - LambdaExecutionRoleD5C26073
            - Arn
        - Runtime: nodejs18.x
      - DependsOn:
        - LambdaExecutionRoleD5C26073
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/AuthorizerFunction/Resource
        - aws:asset:path: asset.95b6b6c74fa70d9ebdbd2e018f22ed10163e368a40b1c68cdad16e22fc8bb5c0
        - aws:asset:is-bundled: false
        - aws:asset:property: Code
    - IdentityPool: !!omap
      - Type: AWS::Cognito::IdentityPool
      - Properties: !!omap
        - AllowUnauthenticatedIdentities: false
        - CognitoIdentityProviders:
          - !!omap
            - ClientId: !!omap
              - Ref: UserPoolClient2F5918F7
            - ProviderName: !!omap
              - Fn::GetAtt:
                - HandTermUserPoolFEFBF83D
                - ProviderName
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/IdentityPool
    - SignUpFunctionCFE784C5: !!omap
      - Type: AWS::Lambda::Function
      - Properties: !!omap
        - Code: !!omap
          - S3Bucket: !!omap
            - Fn::Sub: cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}
          - S3Key: 95b6b6c74fa70d9ebdbd2e018f22ed10163e368a40b1c68cdad16e22fc8bb5c0.zip
        - Environment: !!omap
          - Variables: !!omap
            - COGNITO_APP_CLIENT_ID: !!omap
              - Ref: UserPoolClient2F5918F7
        - Handler: signUp.handler
        - Role: !!omap
          - Fn::GetAtt:
            - LambdaExecutionRoleD5C26073
            - Arn
        - Runtime: nodejs18.x
      - DependsOn:
        - LambdaExecutionRoleD5C26073
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/SignUpFunction/Resource
        - aws:asset:path: asset.95b6b6c74fa70d9ebdbd2e018f22ed10163e368a40b1c68cdad16e22fc8bb5c0
        - aws:asset:is-bundled: false
        - aws:asset:property: Code
    - SignInFunctionC4D5EA9B: !!omap
      - Type: AWS::Lambda::Function
      - Properties: !!omap
        - Code: !!omap
          - S3Bucket: !!omap
            - Fn::Sub: cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}
          - S3Key: 95b6b6c74fa70d9ebdbd2e018f22ed10163e368a40b1c68cdad16e22fc8bb5c0.zip
        - Environment: !!omap
          - Variables: !!omap
            - COGNITO_APP_CLIENT_ID: !!omap
              - Ref: UserPoolClient2F5918F7
        - Handler: signIn.handler
        - Role: !!omap
          - Fn::GetAtt:
            - LambdaExecutionRoleD5C26073
            - Arn
        - Runtime: nodejs18.x
      - DependsOn:
        - LambdaExecutionRoleD5C26073
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/SignInFunction/Resource
        - aws:asset:path: asset.95b6b6c74fa70d9ebdbd2e018f22ed10163e368a40b1c68cdad16e22fc8bb5c0
        - aws:asset:is-bundled: false
        - aws:asset:property: Code
    - RefreshTokenFunction37E34807: !!omap
      - Type: AWS::Lambda::Function
      - Properties: !!omap
        - Code: !!omap
          - S3Bucket: !!omap
            - Fn::Sub: cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}
          - S3Key: 95b6b6c74fa70d9ebdbd2e018f22ed10163e368a40b1c68cdad16e22fc8bb5c0.zip
        - Environment: !!omap
          - Variables: !!omap
            - COGNITO_APP_CLIENT_ID: !!omap
              - Ref: UserPoolClient2F5918F7
        - Handler: refreshToken.handler
        - Role: !!omap
          - Fn::GetAtt:
            - LambdaExecutionRoleD5C26073
            - Arn
        - Runtime: nodejs18.x
      - DependsOn:
        - LambdaExecutionRoleD5C26073
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/RefreshTokenFunction/Resource
        - aws:asset:path: asset.95b6b6c74fa70d9ebdbd2e018f22ed10163e368a40b1c68cdad16e22fc8bb5c0
        - aws:asset:is-bundled: false
        - aws:asset:property: Code
    - ChangePasswordFunction51DA0296: !!omap
      - Type: AWS::Lambda::Function
      - Properties: !!omap
        - Code: !!omap
          - S3Bucket: !!omap
            - Fn::Sub: cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}
          - S3Key: 95b6b6c74fa70d9ebdbd2e018f22ed10163e368a40b1c68cdad16e22fc8bb5c0.zip
        - Environment: !!omap
          - Variables: !!omap
            - COGNITO_APP_CLIENT_ID: !!omap
              - Ref: UserPoolClient2F5918F7
        - Handler: changePassword.handler
        - Role: !!omap
          - Fn::GetAtt:
            - LambdaExecutionRoleD5C26073
            - Arn
        - Runtime: nodejs18.x
      - DependsOn:
        - LambdaExecutionRoleD5C26073
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/ChangePasswordFunction/Resource
        - aws:asset:path: asset.95b6b6c74fa70d9ebdbd2e018f22ed10163e368a40b1c68cdad16e22fc8bb5c0
        - aws:asset:is-bundled: false
        - aws:asset:property: Code
    - GetUserFunctionD3D353B4: !!omap
      - Type: AWS::Lambda::Function
      - Properties: !!omap
        - Code: !!omap
          - S3Bucket: !!omap
            - Fn::Sub: cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}
          - S3Key: 8d4d4dc326e9bf9a3d053c434982d26245f8dc1c5ade13ee2d9288a794077f7f.zip
        - Environment: !!omap
          - Variables: !!omap
            - COGNITO_APP_CLIENT_ID: !!omap
              - Ref: UserPoolClient2F5918F7
            - BUCKET_NAME: handterm
        - Handler: getUser.handler
        - Role: !!omap
          - Fn::GetAtt:
            - LambdaExecutionRoleD5C26073
            - Arn
        - Runtime: nodejs18.x
      - DependsOn:
        - LambdaExecutionRoleD5C26073
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/GetUserFunction/Resource
        - aws:asset:path: asset.8d4d4dc326e9bf9a3d053c434982d26245f8dc1c5ade13ee2d9288a794077f7f
        - aws:asset:is-bundled: false
        - aws:asset:property: Code
    - SetUserFunction49B5984A: !!omap
      - Type: AWS::Lambda::Function
      - Properties: !!omap
        - Code: !!omap
          - S3Bucket: !!omap
            - Fn::Sub: cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}
          - S3Key: 8d4d4dc326e9bf9a3d053c434982d26245f8dc1c5ade13ee2d9288a794077f7f.zip
        - Environment: !!omap
          - Variables: !!omap
            - COGNITO_APP_CLIENT_ID: !!omap
              - Ref: UserPoolClient2F5918F7
        - Handler: setUser.handler
        - Role: !!omap
          - Fn::GetAtt:
            - LambdaExecutionRoleD5C26073
            - Arn
        - Runtime: nodejs18.x
      - DependsOn:
        - LambdaExecutionRoleD5C26073
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/SetUserFunction/Resource
        - aws:asset:path: asset.8d4d4dc326e9bf9a3d053c434982d26245f8dc1c5ade13ee2d9288a794077f7f
        - aws:asset:is-bundled: false
        - aws:asset:property: Code
    - SaveLogFunctionFDAB0521: !!omap
      - Type: AWS::Lambda::Function
      - Properties: !!omap
        - Code: !!omap
          - S3Bucket: !!omap
            - Fn::Sub: cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}
          - S3Key: 8d4d4dc326e9bf9a3d053c434982d26245f8dc1c5ade13ee2d9288a794077f7f.zip
        - Environment: !!omap
          - Variables: !!omap
            - COGNITO_APP_CLIENT_ID: !!omap
              - Ref: UserPoolClient2F5918F7
        - Handler: saveLog.handler
        - Role: !!omap
          - Fn::GetAtt:
            - LambdaExecutionRoleD5C26073
            - Arn
        - Runtime: nodejs18.x
      - DependsOn:
        - LambdaExecutionRoleD5C26073
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/SaveLogFunction/Resource
        - aws:asset:path: asset.8d4d4dc326e9bf9a3d053c434982d26245f8dc1c5ade13ee2d9288a794077f7f
        - aws:asset:is-bundled: false
        - aws:asset:property: Code
    - GetLogFunction03FFABB2: !!omap
      - Type: AWS::Lambda::Function
      - Properties: !!omap
        - Code: !!omap
          - S3Bucket: !!omap
            - Fn::Sub: cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}
          - S3Key: 8d4d4dc326e9bf9a3d053c434982d26245f8dc1c5ade13ee2d9288a794077f7f.zip
        - Environment: !!omap
          - Variables: !!omap
            - COGNITO_APP_CLIENT_ID: !!omap
              - Ref: UserPoolClient2F5918F7
        - Handler: getLog.handler
        - Role: !!omap
          - Fn::GetAtt:
            - LambdaExecutionRoleD5C26073
            - Arn
        - Runtime: nodejs18.x
      - DependsOn:
        - LambdaExecutionRoleD5C26073
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/GetLogFunction/Resource
        - aws:asset:path: asset.8d4d4dc326e9bf9a3d053c434982d26245f8dc1c5ade13ee2d9288a794077f7f
        - aws:asset:is-bundled: false
        - aws:asset:property: Code
    - ListLogFunction5540628A: !!omap
      - Type: AWS::Lambda::Function
      - Properties: !!omap
        - Code: !!omap
          - S3Bucket: !!omap
            - Fn::Sub: cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}
          - S3Key: 8d4d4dc326e9bf9a3d053c434982d26245f8dc1c5ade13ee2d9288a794077f7f.zip
        - Environment: !!omap
          - Variables: !!omap
            - COGNITO_APP_CLIENT_ID: !!omap
              - Ref: UserPoolClient2F5918F7
        - Handler: listLog.handler
        - Role: !!omap
          - Fn::GetAtt:
            - LambdaExecutionRoleD5C26073
            - Arn
        - Runtime: nodejs18.x
      - DependsOn:
        - LambdaExecutionRoleD5C26073
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/ListLogFunction/Resource
        - aws:asset:path: asset.8d4d4dc326e9bf9a3d053c434982d26245f8dc1c5ade13ee2d9288a794077f7f
        - aws:asset:is-bundled: false
        - aws:asset:property: Code
    - GetFileFunction303A207D: !!omap
      - Type: AWS::Lambda::Function
      - Properties: !!omap
        - Code: !!omap
          - S3Bucket: !!omap
            - Fn::Sub: cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}
          - S3Key: 8d4d4dc326e9bf9a3d053c434982d26245f8dc1c5ade13ee2d9288a794077f7f.zip
        - Environment: !!omap
          - Variables: !!omap
            - COGNITO_APP_CLIENT_ID: !!omap
              - Ref: UserPoolClient2F5918F7
        - Handler: getFile.handler
        - Role: !!omap
          - Fn::GetAtt:
            - LambdaExecutionRoleD5C26073
            - Arn
        - Runtime: nodejs18.x
      - DependsOn:
        - LambdaExecutionRoleD5C26073
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/GetFileFunction/Resource
        - aws:asset:path: asset.8d4d4dc326e9bf9a3d053c434982d26245f8dc1c5ade13ee2d9288a794077f7f
        - aws:asset:is-bundled: false
        - aws:asset:property: Code
    - PutFileFunction814BBEAD: !!omap
      - Type: AWS::Lambda::Function
      - Properties: !!omap
        - Code: !!omap
          - S3Bucket: !!omap
            - Fn::Sub: cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}
          - S3Key: 8d4d4dc326e9bf9a3d053c434982d26245f8dc1c5ade13ee2d9288a794077f7f.zip
        - Environment: !!omap
          - Variables: !!omap
            - COGNITO_APP_CLIENT_ID: !!omap
              - Ref: UserPoolClient2F5918F7
        - Handler: putFile.handler
        - Role: !!omap
          - Fn::GetAtt:
            - LambdaExecutionRoleD5C26073
            - Arn
        - Runtime: nodejs18.x
      - DependsOn:
        - LambdaExecutionRoleD5C26073
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/PutFileFunction/Resource
        - aws:asset:path: asset.8d4d4dc326e9bf9a3d053c434982d26245f8dc1c5ade13ee2d9288a794077f7f
        - aws:asset:is-bundled: false
        - aws:asset:property: Code
    - ListRecentReposFunctionB1A47D20: !!omap
      - Type: AWS::Lambda::Function
      - Properties: !!omap
        - Code: !!omap
          - S3Bucket: !!omap
            - Fn::Sub: cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}
          - S3Key: 95b6b6c74fa70d9ebdbd2e018f22ed10163e368a40b1c68cdad16e22fc8bb5c0.zip
        - Environment: !!omap
          - Variables: !!omap
            - COGNITO_USER_POOL_ID: !!omap
              - Ref: HandTermUserPoolFEFBF83D
        - Handler: listRecentRepos.handler
        - Role: !!omap
          - Fn::GetAtt:
            - LambdaExecutionRoleD5C26073
            - Arn
        - Runtime: nodejs18.x
      - DependsOn:
        - LambdaExecutionRoleD5C26073
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/ListRecentReposFunction/Resource
        - aws:asset:path: asset.95b6b6c74fa70d9ebdbd2e018f22ed10163e368a40b1c68cdad16e22fc8bb5c0
        - aws:asset:is-bundled: false
        - aws:asset:property: Code
    - SignOutFunctionAB92EDC3: !!omap
      - Type: AWS::Lambda::Function
      - Properties: !!omap
        - Code: !!omap
          - S3Bucket: !!omap
            - Fn::Sub: cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}
          - S3Key: 95b6b6c74fa70d9ebdbd2e018f22ed10163e368a40b1c68cdad16e22fc8bb5c0.zip
        - Handler: signOut.handler
        - Role: !!omap
          - Fn::GetAtt:
            - LambdaExecutionRoleD5C26073
            - Arn
        - Runtime: nodejs18.x
      - DependsOn:
        - LambdaExecutionRoleD5C26073
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/SignOutFunction/Resource
        - aws:asset:path: asset.95b6b6c74fa70d9ebdbd2e018f22ed10163e368a40b1c68cdad16e22fc8bb5c0
        - aws:asset:is-bundled: false
        - aws:asset:property: Code
    - GitHubAuthRedirectFunction9618A4D7: !!omap
      - Type: AWS::Lambda::Function
      - Properties: !!omap
        - Code: !!omap
          - S3Bucket: !!omap
            - Fn::Sub: cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}
          - S3Key: 95b6b6c74fa70d9ebdbd2e018f22ed10163e368a40b1c68cdad16e22fc8bb5c0.zip
        - Environment: !!omap
          - Variables: !!omap
            - GITHUB_CLIENT_ID: Iv23li7gy43wuuUgck9v
            - REDIRECT_URI: !!omap
              - Fn::Join:
                - ''
                - - https://
                  - !!omap
                    - Ref: HandTermApi1BECDD2E
                  - .execute-api.
                  - !!omap
                    - Ref: AWS::Region
                  - .
                  - !!omap
                    - Ref: AWS::URLSuffix
                  - /oauth_callback
        - Handler: githubAuthRedirect.handler
        - Role: !!omap
          - Fn::GetAtt:
            - LambdaExecutionRoleD5C26073
            - Arn
        - Runtime: nodejs18.x
      - DependsOn:
        - LambdaExecutionRoleD5C26073
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/GitHubAuthRedirectFunction/Resource
        - aws:asset:path: asset.95b6b6c74fa70d9ebdbd2e018f22ed10163e368a40b1c68cdad16e22fc8bb5c0
        - aws:asset:is-bundled: false
        - aws:asset:property: Code
    - OAuthCallbackFunction09B806B4: !!omap
      - Type: AWS::Lambda::Function
      - Properties: !!omap
        - Code: !!omap
          - S3Bucket: !!omap
            - Fn::Sub: cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}
          - S3Key: 95b6b6c74fa70d9ebdbd2e018f22ed10163e368a40b1c68cdad16e22fc8bb5c0.zip
        - Environment: !!omap
          - Variables: !!omap
            - GITHUB_CLIENT_ID: Iv23li7gy43wuuUgck9v
            - GITHUB_CLIENT_SECRET: 46c2cd6b690043acca71f113f6383e9cb56b82fc
            - COGNITO_USER_POOL_ID: !!omap
              - Ref: HandTermUserPoolFEFBF83D
            - FRONTEND_URL: https://handterm.com
        - Handler: oauth_callback.handler
        - Role: !!omap
          - Fn::GetAtt:
            - LambdaExecutionRoleD5C26073
            - Arn
        - Runtime: nodejs18.x
      - DependsOn:
        - LambdaExecutionRoleD5C26073
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/OAuthCallbackFunction/Resource
        - aws:asset:path: asset.95b6b6c74fa70d9ebdbd2e018f22ed10163e368a40b1c68cdad16e22fc8bb5c0
        - aws:asset:is-bundled: false
        - aws:asset:property: Code
    - CDKMetadata: !!omap
      - Type: AWS::CDK::Metadata
      - Properties: !!omap
        - Analytics: v2:deflate64:H4sIAAAAAAAA/21QTWvDMAz9Lbu73poNdm4D2wqDlZSdi5uonlrHCpbc0pn89+GEtBvs9D709JBd6PnTsy7uzJlndXOcOdzptBFTH5U58zbVZD0K6fTJENZETpV7/x9fNeAF5bIOdMIGgpoGpUPw8jt6c65LRK5XpkNrBM7mcip0ehPpFh3mWIYsN2IsZGMk2aooyshWXsAGI0h+qP4rb7lFlC8K+A1hqL6qXjnT7hqjU7n3awgtMufll+jrqWXivXJkWad3sq+BYpdnE+8VP+plrI8gS8Og0LQ6VeRgPMNBDmwNMwjrRYZeVcAUQw1q0Pl16G3Of0Tp4vBV10i59yX5Bsc7PDWgD3x/Kh70vNDzuwMjzkL0gi3oasQfdbk43uUBAAA=
      - Metadata: !!omap
        - aws:cdk:path: HandTermCdkStack/CDKMetadata/Default
      - Condition: CDKMetadataAvailable
  - Outputs: !!omap
    - GetUserEndpoint: !!omap
      - Value: !!omap
        - Fn::Join:
          - ''
          - - https://
            - !!omap
              - Ref: HandTermApi1BECDD2E
            - .execute-api.
            - !!omap
              - Ref: AWS::Region
            - .
            - !!omap
              - Ref: AWS::URLSuffix
            - //getUser
    - ApiEndpoint: !!omap
      - Value: !!omap
        - Fn::Join:
          - ''
          - - https://
            - !!omap
              - Ref: HandTermApi1BECDD2E
            - .execute-api.
            - !!omap
              - Ref: AWS::Region
            - .
            - !!omap
              - Ref: AWS::URLSuffix
            - /
    - UserPoolId: !!omap
      - Value: !!omap
        - Ref: HandTermUserPoolFEFBF83D
    - UserPoolClientId: !!omap
      - Value: !!omap
        - Ref: UserPoolClient2F5918F7
    - IdentityPoolId: !!omap
      - Value: !!omap
        - Ref: IdentityPool
    - BucketName: !!omap
      - Value: handterm
  - Conditions: !!omap
    - CDKMetadataAvailable: !!omap
      - Fn::Or:
        - !!omap
          - Fn::Or:
            - !!omap
              - Fn::Equals:
                - !!omap
                  - Ref: AWS::Region
                - af-south-1
            - !!omap
              - Fn::Equals:
                - !!omap
                  - Ref: AWS::Region
                - ap-east-1
            - !!omap
              - Fn::Equals:
                - !!omap
                  - Ref: AWS::Region
                - ap-northeast-1
            - !!omap
              - Fn::Equals:
                - !!omap
                  - Ref: AWS::Region
                - ap-northeast-2
            - !!omap
              - Fn::Equals:
                - !!omap
                  - Ref: AWS::Region
                - ap-south-1
            - !!omap
              - Fn::Equals:
                - !!omap
                  - Ref: AWS::Region
                - ap-southeast-1
            - !!omap
              - Fn::Equals:
                - !!omap
                  - Ref: AWS::Region
                - ap-southeast-2
            - !!omap
              - Fn::Equals:
                - !!omap
                  - Ref: AWS::Region
                - ca-central-1
            - !!omap
              - Fn::Equals:
                - !!omap
                  - Ref: AWS::Region
                - cn-north-1
            - !!omap
              - Fn::Equals:
                - !!omap
                  - Ref: AWS::Region
                - cn-northwest-1
        - !!omap
          - Fn::Or:
            - !!omap
              - Fn::Equals:
                - !!omap
                  - Ref: AWS::Region
                - eu-central-1
            - !!omap
              - Fn::Equals:
                - !!omap
                  - Ref: AWS::Region
                - eu-north-1
            - !!omap
              - Fn::Equals:
                - !!omap
                  - Ref: AWS::Region
                - eu-south-1
            - !!omap
              - Fn::Equals:
                - !!omap
                  - Ref: AWS::Region
                - eu-west-1
            - !!omap
              - Fn::Equals:
                - !!omap
                  - Ref: AWS::Region
                - eu-west-2
            - !!omap
              - Fn::Equals:
                - !!omap
                  - Ref: AWS::Region
                - eu-west-3
            - !!omap
              - Fn::Equals:
                - !!omap
                  - Ref: AWS::Region
                - il-central-1
            - !!omap
              - Fn::Equals:
                - !!omap
                  - Ref: AWS::Region
                - me-central-1
            - !!omap
              - Fn::Equals:
                - !!omap
                  - Ref: AWS::Region
                - me-south-1
            - !!omap
              - Fn::Equals:
                - !!omap
                  - Ref: AWS::Region
                - sa-east-1
        - !!omap
          - Fn::Or:
            - !!omap
              - Fn::Equals:
                - !!omap
                  - Ref: AWS::Region
                - us-east-1
            - !!omap
              - Fn::Equals:
                - !!omap
                  - Ref: AWS::Region
                - us-east-2
            - !!omap
              - Fn::Equals:
                - !!omap
                  - Ref: AWS::Region
                - us-west-1
            - !!omap
              - Fn::Equals:
                - !!omap
                  - Ref: AWS::Region
                - us-west-2
  - Parameters: !!omap
    - BootstrapVersion: !!omap
      - Type: AWS::SSM::Parameter::Value<String>
      - Default: /cdk-bootstrap/hnb659fds/version
      - Description: Version of the CDK Bootstrap resources in this environment, automatically
          retrieved from SSM Parameter Store. [cdk:skip]
  - Rules: !!omap
    - CheckBootstrapVersion: !!omap
      - Assertions:
        - !!omap
          - Assert: !!omap
            - Fn::Not:
              - !!omap
                - Fn::Contains:
                  - - '1'
                    - '2'
                    - '3'
                    - '4'
                    - '5'
                  - !!omap
                    - Ref: BootstrapVersion
          - AssertDescription: CDK bootstrap stack version 6 required. Please run
              'cdk bootstrap' with a recent version of the CDK CLI.
